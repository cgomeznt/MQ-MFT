Crear un QManager con sus canales
=================================

::

	crtmqm -c "Creando un QManager manual" CRC06AGN

::

	strmqm  CRC06AGN

::	

	runmqsc CRC06AGN << EOF
	DEFINE LISTENER (CRC06AGN.LST) TRPTYPE (TCP) CONTROL (QMGR) PORT (1424)
	START LISTENER (CRC06AGN.LST)
	DEFINE CHANNEL (SYSTEM.ADMIN.SVRCONN) CHLTYPE (SVRCONN)
	START CHANNEL (SYSTEM.ADMIN.SVRCONN)
	DEFINE QLOCAL (CRC06AGN.DQ) USAGE (NORMAL)
	ALTER QMGR DEADQ(CRC06AGN.DQ)
	ALTER QMGR  CHLAUTH(DISABLED)
	SET CHLAUTH(*)  TYPE(BLOCKUSER) USERLIST(*MQADMIN) ACTION(REMOVE)
	SET CHLAUTH(*)  TYPE(ADDRESSMAP) ADDRESS(*)  USERSRC(CHANNEL) ACTION(ADD)
	SET CHLAUTH(SYSTEM.*) TYPE(ADDRESSMAP) ADDRESS(*) USERSRC(CHANNEL) ACTION(REPLACE)
	ALTER AUTHINFO('SYSTEM.DEFAULT.AUTHINFO.IDPWOS') AUTHTYPE(IDPWOS) CHCKCLNT(NONE)
	ALTER CHANNEL(SYSTEM.ADMIN.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('usrmq')
	ALTER CHANNEL(SYSTEM.DEF.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('usrmq')
	REFRESH SECURITY TYPE(CONNAUTH)

	DEFINE CHANNEL (CRC06AGN.A.CRC01CRD) CHLTYPE (SDR) DISCINT(0) CONNAME ('192.168.1.110(1414)') XMITQ (CRC01CRD)
	DEFINE CHANNEL (CRC01CRD.A.CRC06AGN) CHLTYPE (RCVR)
	DEFINE QLOCAL (CRC01CRD) USAGE (XMITQ)

	DEFINE CHANNEL (CRC06AGN.A.CRC01CMM) CHLTYPE (SDR) DISCINT(0) CONNAME ('192.168.1.110(1416)') XMITQ (CRC01CMM)
	DEFINE CHANNEL (CRC01CMM.A.CRC06AGN) CHLTYPE (RCVR)
	DEFINE QLOCAL (CRC01CMM) USAGE (XMITQ)

	DEFINE CHANNEL (CRC06AGN.A.SRVFSAGN) CHLTYPE (SDR) DISCINT(0) CONNAME ('192.168.1.110(1418)') XMITQ (SRVFSAGN)
	DEFINE CHANNEL (SRVFSAGN.A.CRC06AGN) CHLTYPE (RCVR)
	DEFINE QLOCAL (SRVFSAGN) USAGE (XMITQ)
	END
	EOF

::

	runmqsc CRC01CRD << EOF
	DEFINE CHANNEL (CRC01CRD.A.CRC06AGN) CHLTYPE (SDR) DISCINT(0) CONNAME ('192.168.1.110(1424)') XMITQ (CRC06AGN)
	DEFINE QLOCAL (CRC06AGN) USAGE (XMITQ)
	DEFINE CHANNEL (CRC06AGN.A.CRC01CRD) CHLTYPE (RCVR)
	END
	EOF

::

	runmqsc CRC01CMM << EOF
	DEFINE CHANNEL (CRC01CMM.A.CRC06AGN) CHLTYPE (SDR) DISCINT(0) CONNAME ('192.168.1.110(1424)') XMITQ (CRC06AGN)
	DEFINE QLOCAL (CRC06AGN) USAGE (XMITQ)
	DEFINE CHANNEL (CRC06AGN.A.CRC01CMM) CHLTYPE (RCVR)
	END
	EOF

::

	runmqsc SRVFSAGN << EOF
	DEFINE CHANNEL (SRVFSAGN.A.CRC06AGN) CHLTYPE (SDR) DISCINT(0) CONNAME ('192.168.1.110(1424)') XMITQ (CRC06AGN)
	DEFINE QLOCAL (CRC06AGN) USAGE (XMITQ)
	DEFINE CHANNEL (CRC06AGN.A.SRVFSAGN) CHLTYPE (RCVR)
	END
	EOF

::

	QMGR_AGENT="CRC06AGN"
	AGENT_NAME="CRC06AGN.AG"

	CHANNEL="SYSTEM.ADMIN.SVRCONN"
	SYSTEM_DEF="SYSTEM.FTE."
	QLOCAL_TYPES="COMMAND DATA REPLY STATE EVENT AUTHAGT1 AUTHTRN1 AUTHOPS1 AUTHSCH1 AUTHMON1 AUTHADM1"


	for QLOCAL_TYPE in $QLOCAL_TYPES
	do 
		echo "Creando QLOCAL: ${SYSTEM_DEF}${QLOCAL_TYPE}.$AGENT_NAME"

		echo "DEFINE QLOCAL(${SYSTEM_DEF}${QLOCAL_TYPE}.$AGENT_NAME) DEFPRTY(0) DEFSOPT(SHARED) GET(ENABLED) MAXDEPTH(5000) \
		MAXMSGL(4194304) MSGDLVSQ(PRIORITY) PUT(ENABLED) RETINTVL(999999999) SHARE NOTRIGGER USAGE(NORMAL) REPLACE " | runmqsc $QMGR_AGENT

	done



**Ahora debe iniciar los canales**
